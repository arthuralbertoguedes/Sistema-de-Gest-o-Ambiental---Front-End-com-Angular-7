<div class="container-fluid" style="margin-top: 95px !important;">
    <form action="" novalidate class="formulario_container" [formGroup]="atividadesForm">
        <h3 class="titleH3">Cadastro de Atividades e Ações sustentáveis</h3>
        <div class="row">
            <div class="col-sm-12 col-md-6">
                <input  id="buscarConsulta" 
                        type="text" 
                        class="validate" 
                        formControlName="nome"
                        placeholder="Digite o nome da atividade"
       
                >
            </div>
            <div class="col-sm-12 col-md-6">
              <div class="row">
                  <div class="col-sm-12 col-md-12">

                        <input  id="ramo" 
                        type="text" 
                        class="validate" 
                        formControlName="ramo"
                        placeholder="Ramo da atividade"     
                        >
                    </div>
                    
              </div>
                
            </div>
            <div class="col-sm-12 col-md-12">
                    <input  id="observacoes" 
                    type="text" 
                    class="validate" 
                    formControlName="observacoes"
                    placeholder="Observações acerca da ação sustentável">
            </div> 
            <div class="col-sm-12 col-md-12 mt-4">
                <button style="padding: 10px;" (click)="alterarDivFuncionarioAtividade(divAdicionarFuncionario)">Adicionar funcionários</button>
                <div #divAdicionarFuncionario class="adicionarFuncionarioAtividade removerFuncionarioAtividade">
                    <div class="col-sm-12">
                        <div class="row">

                       
                            <div class="col-sm-12 col-md-4">  
                                <label for="" style="font-size: 15px; margin-top: 20px;" > Adicionar funcionário a esta atividade:</label>                 
                                <p-autoComplete
                                        [suggestions]="listaFuncionarios" 
                                        (completeMethod)="pesquisarFuncionarios($event.query)"
                                        (onSelect)="vincularFuncionario($event)" 
                                        field="nome" 
                                        [size]="30"
                                        [minLength]="1"
                                        id="funcionarioSelecionado"
                                        styleClass=""
                                        formControlName="funcionarioSelecionado"
                                        >
                                </p-autoComplete>
                            </div>    
                            <div class="col-sm-12 col-md-2">
                                    <label for="" style="font-size: 15px; margin-top: 20px;" > Concluída (%)</label>                 
                                    <input  id="porcentagemAtividade" 
                                    type="text" 
                                    class="validate" 
                                    formControlName="porcentagemAtividade"
                                    (input)="setarPorcentagem()"
                                    >
                            </div> 
                            <div class="col-sm-12 col-md-4">
                                <label for="" style="font-size: 15px; margin-top: 20px;" > Progresso</label>                 
                                <p-progressBar [value]="porcentagem"></p-progressBar>
                            </div>
                            <div class="col-sm-12 col-md-2">
                                <br>             
                                <button (click)="adicionarFuncionarioLista()">Adicionar</button>
                            </div>
                        </div>    
                        <p-table [value]="listaAtividadesFuncionarios" class="mt-5">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th style="width: 80%">Nome do Funcionário</th>
                                        <th>Porcentagem realizada </th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-funcionarioAtividade>
                                    <tr>
                                        <td>{{funcionarioAtividade.funcionario.nome}}</td>
                                        <td>{{funcionarioAtividade.porcentagem}}%</td>
                                    </tr>
                                </ng-template>
                            </p-table>
                        
                    </div> 

                </div>
            </div> 
          
        </div>     
        <p-messages [(value)]="msgs"></p-messages>
        <div class="row mt-5 ">
            <button class="btn waves-effect waves-light mx-3" 
                    type="button" 
                    name="action" 
                    (click)="voltar()"
                    class="btn-grande btn-pequeno float-left bg-cinza-btn"
                    >
                    <a>Voltar</a>

            </button> 

            <button class="btn waves-effect waves-light mx-3" 
                    type="button" 
                    name="action" 
                    (click)="salvar()"
                    [disabled]="!atividadesForm.valid"
                    class="btn-grande btn-pequeno float-right ml-auto"
                     ><a>Salvar</a>

            </button>                       
        </div>
        
    </form>
</div>

 